(function(t){function e(e){for(var a,n,c=e[0],o=e[1],l=e[2],u=0,v=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&v.push(i[n][0]),i[n]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);d&&d(e);while(v.length)v.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,c=1;c<s.length;c++){var o=s[c];0!==i[o]&&(a=!1)}a&&(r.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},i={app:0},r=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=o;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"017d":function(t,e,s){"use strict";s("7dcb")},"0261":function(t,e,s){},"0cce":function(t,e,s){"use strict";s("3b56")},"122d":function(t,e,s){},1255:function(t,e,s){"use strict";s("51eb")},1266:function(t,e,s){},2441:function(t,e,s){},"2eae":function(t,e,s){},"301f":function(t,e,s){},3863:function(t,e,s){},3924:function(t,e,s){"use strict";s("122d")},"3a69":function(t,e,s){"use strict";s("a35f")},"3add":function(t,e,s){"use strict";s("bc2b")},"3b56":function(t,e,s){},4153:function(t,e,s){},4398:function(t,e,s){},"4a39":function(t,e,s){"use strict";s("e00f")},"51eb":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("1951"),s("450d");var a,i=s("eedf"),r=s.n(i),n=(s("672e"),s("101e")),c=s.n(n),o=(s("0fb7"),s("f529")),l=s.n(o),d=(s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("d3b7"),s("2b0e")),u=s("8c4f"),v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav-header"),s("router-view"),s("nav-footer")],1)},p=[],m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"nav-topbar"},[s("div",{staticClass:"container"},[t._m(0),s("div",{staticClass:"topbar-user"},[t.username?s("a",{attrs:{href:"javacript:;"}},[t._v(t._s(t.username))]):t._e(),t.username?s("a",{attrs:{href:"javacript:;"},on:{click:t.logout}},[t._v("退出")]):t._e(),t.username?t._e():s("a",{attrs:{href:"javacript:;"},on:{click:t.goToLogin}},[t._v("登录")]),t.username?s("a",{attrs:{href:"javacript:;"},on:{click:t.goOrderList}},[t._v("我的订单")]):t._e(),s("a",{staticClass:"my-cart",attrs:{href:"javacript:;"},on:{click:t.goToCart}},[s("span",{staticClass:"icon-cart"}),t._v(" 购物车("+t._s(t.cartCount)+") ")])])])]),s("div",{staticClass:"nav-header"},[s("div",{staticClass:"container"},[t._m(1),s("div",{staticClass:"header-menu"},[s("div",{staticClass:"item-menu"},[s("span",[t._v("小米手机")]),s("div",{staticClass:"children"},[s("ul",t._l(t.phoneList,(function(e){return s("li",{key:e.id,staticClass:"product"},[s("a",{attrs:{href:"/#/product/"+e.id,target:"_blank"}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.mainImage,expression:"phone.mainImage"}]})]),s("div",{staticClass:"pro-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"pro-price"},[t._v(t._s(t._f("currency")(e.price)))])])])})),0)])]),t._m(2),t._m(3)]),t._m(4)])])])},f=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topbar-menu"},[s("a",{attrs:{href:"javacript:;"}},[t._v("小米商城")]),s("a",{attrs:{href:"javacript:;"}},[t._v("MUI")]),s("a",{attrs:{href:"javacript:;"}},[t._v("云服务")]),s("a",{attrs:{href:"javacript:;"}},[t._v("协议规则")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-logo"},[s("a",{attrs:{href:"/#/index"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item-menu"},[s("span",[t._v("RedMi红米")]),s("div",{staticClass:"children"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item-menu"},[s("span",[t._v("电视")]),s("div",{staticClass:"children"},[s("ul",[s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blank"}},[s("div",{staticClass:"pro-img"},[s("img",{attrs:{src:"//cdn.cnbj1.fds.api.mi-img.com/mi-mall/8c87fdc4bcfd081ac240f7af1417ce60.png?thumb=1&w=200&h=138&f=webp&q=90"}})]),s("div",{staticClass:"pro-name"},[t._v("Redmi MAX 86″ 超大屏电视")]),s("div",{staticClass:"pro-price"},[t._v("7999元")])])]),s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blank"}},[s("div",{staticClass:"pro-img"},[s("img",{attrs:{src:"//cdn.cnbj1.fds.api.mi-img.com/mi-mall/8c87fdc4bcfd081ac240f7af1417ce60.png?thumb=1&w=200&h=138&f=webp&q=90"}})]),s("div",{staticClass:"pro-name"},[t._v("Redmi MAX 86″ 超大屏电视")]),s("div",{staticClass:"pro-price"},[t._v("7999元")])])]),s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blank"}},[s("div",{staticClass:"pro-img"},[s("img",{attrs:{src:"//cdn.cnbj1.fds.api.mi-img.com/mi-mall/8c87fdc4bcfd081ac240f7af1417ce60.png?thumb=1&w=200&h=138&f=webp&q=90"}})]),s("div",{staticClass:"pro-name"},[t._v("Redmi MAX 86″ 超大屏电视")]),s("div",{staticClass:"pro-price"},[t._v("7999元")])])]),s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blank"}},[s("div",{staticClass:"pro-img"},[s("img",{attrs:{src:"//cdn.cnbj1.fds.api.mi-img.com/mi-mall/8c87fdc4bcfd081ac240f7af1417ce60.png?thumb=1&w=200&h=138&f=webp&q=90"}})]),s("div",{staticClass:"pro-name"},[t._v("Redmi MAX 86″ 超大屏电视")]),s("div",{staticClass:"pro-price"},[t._v("7999元")])])]),s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blank"}},[s("div",{staticClass:"pro-img"},[s("img",{attrs:{src:"//cdn.cnbj1.fds.api.mi-img.com/mi-mall/8c87fdc4bcfd081ac240f7af1417ce60.png?thumb=1&w=200&h=138&f=webp&q=90"}})]),s("div",{staticClass:"pro-name"},[t._v("Redmi MAX 86″ 超大屏电视")]),s("div",{staticClass:"pro-price"},[t._v("7999元")])])]),s("li",{staticClass:"product"},[s("a",{attrs:{href:"",target:"_blank"}},[s("div",{staticClass:"pro-img"},[s("img",{attrs:{src:"//cdn.cnbj1.fds.api.mi-img.com/mi-mall/8c87fdc4bcfd081ac240f7af1417ce60.png?thumb=1&w=200&h=138&f=webp&q=90"}})]),s("div",{staticClass:"pro-name"},[t._v("Redmi MAX 86″ 超大屏电视")]),s("div",{staticClass:"pro-price"},[t._v("7999元")])])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-search"},[s("div",{staticClass:"wrapper"},[s("input",{attrs:{type:"text",name:"keyword"}}),s("a",{attrs:{href:"javascript:;"}})])])}],h=s("5530"),_=(s("b680"),s("fb6a"),s("2f62")),g={name:"nav-header",data:function(){return{phoneList:[]}},computed:Object(h["a"])({},Object(_["c"])(["username","cartCount"])),filters:{currency:function(t){return t?"￥".concat(t.toFixed(2),"元"):"0.00"}},mounted:function(){this.getProductList();var t=this.$route.params;t&&"login"===t.from&&this.getCartCount()},methods:Object(h["a"])(Object(h["a"])({},Object(_["b"])(["saveUserName","saveCartCount"])),{},{getProductList:function(){var t=this;this.axios.get("/products",{params:{categoryId:"100012",pageSize:6}}).then((function(e){t.phoneList=e.list.length>6?e.list.slice(0,6):e.list}))},logout:function(){var t=this;this.axios.post("/user/logout").then((function(){t.$message.success("退出登录成功!"),t.$cookie.set("userId","",{expires:"-1"}),t.saveUserName(""),t.saveCartCount(0)}))},goToLogin:function(){this.$router.push("/login")},goToCart:function(){this.$router.push("/cart")},getCartCount:function(){var t=this;this.axios.get("/carts/products/sum").then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.saveCartCount(e)}))},goOrderList:function(){this.$router.push("/order/list")}})},C=g,b=(s("cf8b"),s("2877")),y=Object(b["a"])(C,m,f,!1,null,"4f6b8fee",null),w=y.exports,x=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},k=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer"},[s("div",{staticClass:"footer-logo"},[s("img",{attrs:{src:"/imgs/logo-footer.png"}}),s("p",[t._v("小米商城")])]),s("div",{staticClass:"footer-link"},[s("a",{attrs:{href:""}},[t._v("牛牛主页")]),s("span",[t._v("|")]),s("a",{attrs:{href:""}},[t._v("牛牛博客")]),s("span",[t._v("|")]),s("a",{attrs:{href:""}},[t._v("Github")])]),s("div",{staticClass:"copyright"},[t._v("Copyright © mi.com All Rights")])])}],j={name:"nav-footer",data:function(){return{}}},$=j,I=(s("74be"),Object(b["a"])($,x,k,!1,null,"acd50652",null)),N=I.exports,O={components:{NavHeader:w,NavFooter:N},data:function(){return{}}},P=O,E=Object(b["a"])(P,v,p,!1,null,"9dc25fec",null),S=E.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"index"},[s("div",{staticClass:"container"},[s("div",{staticClass:"swiper-box"},[s("div",{staticClass:"nav-menu"},[s("div",{staticClass:"menu-wrap"},[s("li",{staticClass:"menu-item"},[s("a",{staticClass:"title",attrs:{href:"javacriipt:;"}},[t._v("手机 电话卡")]),s("div",{staticClass:"children"},t._l(t.menuList,(function(e,a){return s("ul",{key:a},t._l(e,(function(e,a){return s("li",{key:a},[s("a",{attrs:{href:"/#/product/"+(e.id?e.id:"")}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e?e.img:"/imgs/item-box-1.png",expression:"phone?phone.img :'/imgs/item-box-1.png'"}]}),t._v(" "+t._s(e.name||"小米9")+" ")])])})),0)})),0)]),t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8)])]),s("swiper",{ref:"mySwiper",attrs:{options:t.swiperOptions}},[t._l(t.slideList,(function(t,e){return s("swiper-slide",{key:e},[s("a",{attrs:{href:"/#/product/"+t.id}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img,expression:"item.img"}]})])])})),s("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),s("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"}),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1),s("div",{staticClass:"ads-box"},t._l(t.adsList,(function(t){return s("a",{key:t.id,attrs:{href:"/#/product/"+t.id}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img,expression:"item.img"}]})])})),0),t._m(9)]),s("div",{staticClass:"product-box"},[s("div",{staticClass:"container"},[s("h2",[t._v("手机")]),s("div",{staticClass:"wrapper"},[t._m(10),s("div",{staticClass:"list-box"},t._l(t.phoneList,(function(e,a){return s("div",{key:a,staticClass:"list"},t._l(e,(function(e,a){return s("div",{key:a,staticClass:"item"},[s("span",{class:{"new-pro":a%2===0,"kill-pro":a%2===1}},[t._v("新品")]),s("div",{staticClass:"item-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.mainImage,expression:"item.mainImage"}]})]),s("div",{staticClass:"item-info"},[s("h3",[t._v(t._s(e.name))]),s("p",[t._v(t._s(e.subtitle))]),s("p",{staticClass:"price",on:{click:function(s){return t.addCart(e.id)}}},[t._v("￥"+t._s(e.price)+"元")])])])})),0)})),0)])])]),s("service-bar"),s("modal",{attrs:{title:"提示",sureText:"查看购物车",btnType:1,modalType:"middle",showModal:t.showModal},on:{submit:function(e){return t.goToCart()},cancel:function(e){t.showModal=!1}},scopedSlots:t._u([{key:"body",fn:function(){return[s("p",[t._v("商品添加成功！")])]},proxy:!0}])})],1)},T=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"menu-item"},[s("a",{staticClass:"title",attrs:{href:"javacriipt:;"}},[t._v("电视 盒子")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"menu-item"},[s("a",{staticClass:"title",attrs:{href:"javacriipt:;"}},[t._v("笔记本 显示器")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"menu-item"},[s("a",{staticClass:"title",attrs:{href:"javacriipt:;"}},[t._v("家电 插线板")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"menu-item"},[s("a",{staticClass:"title",attrs:{href:"javacriipt:;"}},[t._v("出行 穿戴")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"menu-item"},[s("a",{staticClass:"title",attrs:{href:"javacriipt:;"}},[t._v("智能 路由器")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"menu-item"},[s("a",{staticClass:"title",attrs:{href:"javacriipt:;"}},[t._v("电源 配件")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"menu-item"},[s("a",{staticClass:"title",attrs:{href:"javacriipt:;"}},[t._v("健康 儿童")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"menu-item"},[s("a",{staticClass:"title",attrs:{href:"javacriipt:;"}},[t._v("耳机 音箱")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"menu-item"},[s("a",{staticClass:"title",attrs:{href:"javacriipt:;"}},[t._v("生活 箱包")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"banner"},[s("a",{attrs:{href:"/#/product/30"}},[s("img",{attrs:{src:"/imgs/banner-1.png"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"banner-left"},[s("a",{attrs:{href:"/#/product/35"}},[s("img",{attrs:{src:"/imgs/mix-alpha.jpg"}})])])}],L=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},A=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"service"},[s("div",{staticClass:"container"},[s("ul",[s("li",[s("span",{staticClass:"icon-setting"}),t._v("预约维修服务 ")]),s("li",[s("span",{staticClass:"icon-7day"}),t._v("7天无理由退货 ")]),s("li",[s("span",{staticClass:"icon-15day"}),t._v("15天免费换货 ")]),s("li",[s("span",{staticClass:"icon-post"}),t._v("满150元包邮 ")])])])])}],D={name:"service-bar",data:function(){return{}}},z=D,q=(s("7f77"),Object(b["a"])(z,L,A,!1,null,"13270cb6",null)),U=q.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],staticClass:"modal"},[s("div",{staticClass:"mask"}),s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-header"},[s("span",[t._v(t._s(t.title))]),s("a",{staticClass:"icon-close",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("cancel")}}})]),s("div",{staticClass:"modal-body"},[t._t("body")],2),s("div",{staticClass:"modal-footer"},[1===t.btnType?s("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("submit")}}},[t._v(t._s(t.sureText))]):2===t.btnType?s("a",{staticClass:"btn btn-default",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("cancel")}}},[t._v(t._s(t.cancelText))]):s("div",{staticClass:"btn-group"},[s("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("submit")}}},[t._v(t._s(t.sureText))]),s("a",{staticClass:"btn btn-default",attrs:{href:"javascript:;"},on:{click:function(e){return t.$emit("cancel")}}},[t._v(t._s(t.cancelText))])])])])])])},G=[],R=(s("a9e3"),{name:"modal",props:{modalType:{type:String,default:"form"},title:String,btnType:Number,sureText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},showModal:Boolean},data:function(){return{}}}),H=R,V=(s("017d"),Object(b["a"])(H,B,G,!1,null,"67049694",null)),F=V.exports,X=s("7212"),Z=(s("dfa4"),{components:{ServiceBar:U,Modal:F,swiper:X["swiper"],swiperSlide:X["swiperSlide"]},name:"index",data:function(){return{swiperOptions:{autoplay:!0,loop:!0,effect:"cube",cube:{shadowOffset:100,shadowScale:.6},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},slideList:[{id:"42",img:"/imgs/slider/slide-1.jpg"},{id:"45",img:"/imgs/slider/slide-2.jpg"},{id:"46",img:"/imgs/slider/slide-3.jpg"},{id:"",img:"/imgs/slider/slide-4.jpg"},{id:"",img:"/imgs/slider/slide-5.jpg"}],menuList:[[{id:30,img:"/imgs/item-box-1.png",name:"小米CC9"},{id:31,img:"/imgs/item-box-2.png",name:"小米8青春版"},{id:32,img:"/imgs/item-box-3.jpg",name:"RedMi K20 Pro"},{id:33,img:"/imgs/item-box-4.jpg",name:"移动4G专区"}],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],adsList:[{id:33,img:"/imgs/ads/ads-1.png"},{id:48,img:"/imgs/ads/ads-2.jpg"},{id:45,img:"/imgs/ads/ads-3.png"},{id:47,img:"/imgs/ads/ads-4.jpg"}],phoneList:[],showModal:!1}},computed:{swiper:function(){return this.$refs.mySwiper.$swiper}},mounted:function(){this.getProductList()},methods:Object(h["a"])(Object(h["a"])({},Object(_["b"])(["saveCartCount"])),{},{getProductList:function(){var t=this;this.axios.get("/products",{params:{categoryId:100012,pageSize:14}}).then((function(e){t.phoneList=[e.list.slice(6,10),e.list.slice(10,14)]}))},addCart:function(t){var e=this;this.axios.post("/carts",{productId:t,selected:!0}).then((function(t){e.saveCartCount(t.cartTotalQuantity),e.showModal=!0})).catch((function(){}))},goToCart:function(){this.$router.push("/cart")}})}),J=Z,Q=(s("3add"),Object(b["a"])(J,M,T,!1,null,"2c344689",null)),K=Q.exports,Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product"},[s("product-param",{attrs:{title:t.product.name},scopedSlots:t._u([{key:"buy",fn:function(){return[s("button",{staticClass:"btn",on:{click:t.buy}},[t._v("立即购买")])]},proxy:!0}])}),s("div",{staticClass:"content"},[s("div",{staticClass:"item-bg"},[s("h2",[t._v(t._s(t.product.name))]),s("h3",[t._v(t._s(t.product.subtitle))]),t._m(0),s("div",{staticClass:"price"},[s("span",[t._v("￥"),s("em",[t._v(t._s(t.product.price))])])])]),s("div",{staticClass:"item-bg-2"}),s("div",{staticClass:"item-bg-3"}),s("div",{staticClass:"item-swiper"},[s("swiper",{attrs:{options:t.swiperOption}},[s("swiper-slide",[s("img",{attrs:{src:"/imgs/product/gallery-2.png",alt:""}})]),s("swiper-slide",[s("img",{attrs:{src:"/imgs/product/gallery-3.png",alt:""}})]),s("swiper-slide",[s("img",{attrs:{src:"/imgs/product/gallery-4.png",alt:""}})]),s("swiper-slide",[s("img",{attrs:{src:"/imgs/product/gallery-5.jpg",alt:""}})]),s("swiper-slide",[s("img",{attrs:{src:"/imgs/product/gallery-6.jpg",alt:""}})]),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],1),s("p",{staticClass:"desc"},[t._v("小米8 AI变焦双摄拍摄")])],1),s("div",{staticClass:"item-video"},[t._m(1),t._m(2),s("div",{staticClass:"video-bg",on:{click:function(e){t.showSlide="slideDown"}}}),t.showSlide?s("div",{staticClass:"video-box"},["slideDown"===t.showSlide?s("div",{staticClass:"overlay"}):t._e(),s("div",{staticClass:"video",class:t.showSlide},[s("span",{staticClass:"icon-close",on:{click:t.closeVideo}}),s("video",{attrs:{src:"/imgs/product/video.mp4",muted:"",controls:"controls",autoplay:""},domProps:{muted:!0}})])]):t._e()])])],1)},W=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("a",{attrs:{href:"",id:""}},[t._v("全球首款双频 GP")]),s("span",[t._v("|")]),s("a",{attrs:{href:"",id:""}},[t._v("骁龙845")]),s("span",[t._v("|")]),s("a",{attrs:{href:"",id:""}},[t._v("AI 变焦双摄")]),s("span",[t._v("|")]),s("a",{attrs:{href:"",id:""}},[t._v("红外人脸识别")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",[t._v("60帧超慢动作摄影"),s("br"),t._v("慢慢回味每一瞬间的精彩")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("后置960帧电影般超慢动作视频，将眨眼间的美妙展现得淋漓尽致！"),s("br"),t._v("更能AI 精准分析视频内容，15个场景智能匹配背景音效。")])}],tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"bar",staticClass:"nav-bar",class:{is_fiexed:t.isFixed}},[s("div",{staticClass:"container"},[s("div",{staticClass:"pro-title"},[t._v(" "+t._s(t.title)+" ")]),s("div",{staticClass:"pro-param"},[s("a",{attrs:{href:"javascript:;"}},[t._v("概述")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("参数")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("用户评论")]),t._t("buy")],2)])])},et=[],st={name:"product-param",props:{title:{type:String,default:""}},data:function(){return{isFixed:!1}},mounted:function(){window.addEventListener("scroll",this.initHeight)},methods:{initHeight:function(){var t=window.pageYOffset||document.documentElement.scrollTop,e=this.$refs.bar.offsetTop;this.isFixed=t>e}},destroyed:function(){window.removeEventListener("scroll",this.initHeight,!1)}},at=st,it=(s("c327"),Object(b["a"])(at,tt,et,!1,null,"4f12f3e2",null)),rt=it.exports,nt={name:"product",components:{ProductParam:rt,swiper:X["swiper"],swiperSlide:X["swiperSlide"]},data:function(){return{showSlide:"",product:{},swiperOption:{autoplay:!0,slidesPerView:3,spaceBetween:30,freeMode:!0,pagination:{el:".swiper-pagination",clickable:!0}}}},mounted:function(){this.getProductInfo()},methods:{getProductInfo:function(){var t=this,e=this.$route.params.id;this.axios.get("/products/".concat(e)).then((function(e){t.product=e}))},buy:function(){var t=this.$route.params.id;this.$router.push("/detail/".concat(t))},closeVideo:function(){var t=this;this.showSlide="slideUp",setTimeout((function(){t.showSlide=""}),600)}}},ct=nt,ot=(s("3a69"),Object(b["a"])(ct,Y,W,!1,null,"4099e86c",null)),lt=ot.exports,dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail"},[s("product-param",{attrs:{title:t.product.name}}),s("div",{staticClass:"wrapper"},[s("div",{staticClass:"container clearfix"},[s("div",{staticClass:"swiper"},[s("swiper",{attrs:{options:t.swiperOption}},[s("swiper-slide",[s("img",{attrs:{src:"/imgs/detail/phone-1.jpg",alt:""}})]),s("swiper-slide",[s("img",{attrs:{src:"/imgs/detail/phone-2.jpg",alt:""}})]),s("swiper-slide",[s("img",{attrs:{src:"/imgs/detail/phone-3.jpg",alt:""}})]),s("swiper-slide",[s("img",{attrs:{src:"/imgs/detail/phone-4.jpg",alt:""}})]),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],1)],1),s("div",{staticClass:"content"},[s("h2",{staticClass:"item-title"},[t._v(t._s(t.product.name))]),s("p",{staticClass:"item-info"},[t._v(t._s(t.product.subtitle))]),s("div",{staticClass:"delivery"},[t._v("小米自营")]),s("div",{staticClass:"item-price"},[t._v(t._s(t.product.price)),s("span",{staticClass:"del"},[t._v("2999元")])]),s("div",{staticClass:"line"}),t._m(0),s("div",{staticClass:"item-version clearfix"},[s("h2",[t._v("选择版本")]),s("div",{staticClass:"phone fl",class:{checked:1===t.version},on:{click:function(e){t.version=1}}},[t._v(" 6GB+64GB 全网通 ")]),s("div",{staticClass:"phone fr",class:{checked:2===t.version},on:{click:function(e){t.version=2}}},[t._v(" 4GB+64GB 移动4G ")])]),t._m(1),s("div",{staticClass:"item-total"},[s("div",{staticClass:"phone-info clearfix"},[s("div",{staticClass:"fl"},[t._v(t._s(t.product.name)+" "+t._s(1===t.version?"6GB+64GB 全网通":"4GB+64GB 移动4G")+" 深灰色")]),s("div",{staticClass:"fr"},[t._v(t._s(t.product.price)+"元")])]),s("div",{staticClass:"phone-total"},[t._v("总计："+t._s(t.product.price)+"元")])]),s("div",{staticClass:"btn-group"},[s("a",{staticClass:"btn btn-huge fl",attrs:{href:"javascript:;"},on:{click:t.addCart}},[t._v("加入购物车")])])])])]),t._m(2),s("service-bar")],1)},ut=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item-addr"},[s("i",{staticClass:"icon-loc"}),s("div",{staticClass:"addr"},[t._v("北京 北京市 朝阳区 安定门街道")]),s("div",{staticClass:"stock"},[t._v("有现货")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item-color"},[s("h2",[t._v("选择颜色")]),s("div",{staticClass:"phone checked"},[s("span",{staticClass:"color"}),t._v(" 深空灰 ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"price-info"},[s("div",{staticClass:"container"},[s("h2",[t._v("价格说明")]),s("div",{staticClass:"desc"},[s("img",{attrs:{src:"/imgs/detail/item-price.jpeg",alt:""}})])])])}],vt={name:"detail",data:function(){return{id:this.$route.params.id,product:{},version:1,swiperOption:{autoplay:!0,loop:!0,effect:"coverflow",slidesPerView:1,centeredSlides:!0,coverflowEffect:{rotate:30,stretch:10,depth:60,modifier:2,slideShadows:!0},pagination:{el:".swiper-pagination",clickable:!0}}}},components:{swiper:X["swiper"],swiperSlide:X["swiperSlide"],ProductParam:rt,ServiceBar:U},mounted:function(){this.getProductInfo()},methods:Object(h["a"])(Object(h["a"])({},Object(_["b"])(["saveCartCount"])),{},{getProductInfo:function(){var t=this;this.axios.get("/products/".concat(this.id)).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.product=e}))},addCart:function(){var t=this;this.axios.post("/carts",{productId:this.id,selected:!0}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.saveCartCount(e.cartTotalQuantity),t.$router.push("/cart")}))}})},pt=vt,mt=(s("f8df"),Object(b["a"])(pt,dt,ut,!1,null,null,null)),ft=mt.exports,ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart"},[s("order-header",{attrs:{title:"我的购物车"},scopedSlots:t._u([{key:"tips",fn:function(){return[s("span",[t._v("温馨提示：产品是否购买成功，以最终下单为准哦，请尽快结算")])]},proxy:!0}])}),s("div",{staticClass:"wrapper"},[s("div",{staticClass:"container"},[s("div",{staticClass:"cart-box"},[s("ul",{staticClass:"cart-item-head"},[s("li",{staticClass:"col-1"},[s("span",{staticClass:"checkbox",class:{checked:t.allChecked},on:{click:t.toggleAll}}),t._v("全选")]),s("li",{staticClass:"col-3"},[t._v("商品名称")]),s("li",{staticClass:"col-1"},[t._v("单价")]),s("li",{staticClass:"col-2"},[t._v("数量")]),s("li",{staticClass:"col-1"},[t._v("小计")]),s("li",{staticClass:"col-1"},[t._v("操作")])]),s("ul",{staticClass:"cart-item-list"},t._l(t.list,(function(e){return s("li",{key:e.productId,staticClass:"cart-item"},[s("div",{staticClass:"item-check"},[s("span",{staticClass:"checkbox",class:{checked:e.productSelected},on:{click:function(s){return t.updateCart(e)}}})]),s("div",{staticClass:"item-name"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.productMainImage,expression:"item.productMainImage"}]}),s("span",[t._v(t._s(e.productName+","+e.productSubtitle))])]),s("div",{staticClass:"item-price"},[t._v(t._s(e.productPrice)+"元")]),s("div",{staticClass:"item-num"},[s("div",{staticClass:"num-box"},[s("a",{attrs:{href:"javascript:;"},on:{click:function(s){return t.updateCart(e,"-")}}},[t._v("-")]),s("span",[t._v(t._s(e.quantity))]),s("a",{attrs:{href:"javascript:;"},on:{click:function(s){return t.updateCart(e,"+")}}},[t._v("+")])])]),s("div",{staticClass:"item-total"},[t._v(t._s(e.productTotalPrice)+"元")]),s("div",{staticClass:"item-del",on:{click:function(s){return t.delProduct(e)}}})])})),0)]),s("div",{staticClass:"order-wrap clearfix"},[s("div",{staticClass:"cart-tip fl"},[s("a",{attrs:{href:"/"}},[t._v("继续购物")]),t._v(" 共"),s("span",[t._v(t._s(t.list.length))]),t._v("件商品，已选择"),s("span",[t._v(t._s(t.checkedNum))]),t._v("件 ")]),s("div",{staticClass:"total fr"},[t._v(" 合计："),s("span",[t._v(t._s(t.cartTotalPrice))]),t._v("元 "),s("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:t.order}},[t._v("去结算")])])])])]),s("service-bar"),s("nav-footer")],1)},_t=[],gt=(s("4de4"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-header"},[s("div",{staticClass:"container clearfix"},[t._m(0),s("div",{staticClass:"title"},[s("h2",[t._v(t._s(t.title)+" "),t._t("tips")],2)]),s("div",{staticClass:"username"},[s("a",{attrs:{href:"javascript:;"}},[t._v(t._s(t.username))])])])])}),Ct=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-logo"},[s("a",{attrs:{href:"/#/index"}})])}],bt={name:"order-header",props:{title:{type:String,default:""}},computed:Object(h["a"])({},Object(_["c"])(["username"])),data:function(){return{}}},yt=bt,wt=(s("d4b7"),Object(b["a"])(yt,gt,Ct,!1,null,"2cb90087",null)),xt=wt.exports,kt={name:"index",components:{OrderHeader:xt,ServiceBar:U,NavFooter:N},data:function(){return{list:[],allChecked:!1,cartTotalPrice:0,checkedNum:0}},mounted:function(){this.getCartList()},methods:{getCartList:function(){var t=this;this.axios.get("/carts").then((function(e){t.renderData(e)}))},updateCart:function(t,e){var s=this,a=t.quantity,i=t.productSelected;if("-"===e){if(1===a)return void this.delProduct(t);a-=1}else if("+"===e){if(a>t.productStock)return void this.$message.warning("购买商品不能超过库存数量");a+=1}else i=!t.productSelected;this.axios.put("/carts/".concat(t.productId),{quantity:a,selected:i}).then((function(t){s.renderData(t)}))},delProduct:function(t){var e=this;this.axios.delete("/carts/".concat(t.productId)).then((function(t){e.$message.success("删除成功！"),e.renderData(t)}))},toggleAll:function(){var t=this,e=this.allChecked?"/carts/unSelectAll":"/carts/selectAll";this.axios.put(e).then((function(e){t.renderData(e)}))},renderData:function(t){var e=t.cartProductVoList,s=t.cartTotalPrice,a=t.selectedAll;this.list=e||[],this.allChecked=a,this.cartTotalPrice=s,this.checkedNum=this.list.filter((function(t){return t.productSelected})).length},order:function(){var t=this.list.every((function(t){return!t.productSelected}));t?this.$message.warning("请选择一件商品"):this.$router.push("/order/confirm")}}},jt=kt,$t=(s("3924"),Object(b["a"])(jt,ht,_t,!1,null,null,null)),It=$t.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("order-header",{attrs:{title:t.title},scopedSlots:t._u([{key:"tips",fn:function(){return[s("span",[t._v(t._s(t.tip))])]},proxy:!0}])}),s("router-view"),s("service-bar"),s("nav-footer")],1)},Ot=[],Pt={components:{OrderHeader:xt,NavFooter:N,ServiceBar:U},data:function(){return{title:"",tip:""}},watch:{$route:{handler:function(t){this.handleOrderHeader(t.path)},deep:!0}},mounted:function(){var t=this.$route.path;this.handleOrderHeader(t)},methods:{handleOrderHeader:function(t){switch(t){case"/order/confirm":this.title="订单确认";break;case"/order/list":this.title="订单列表",this.tip="请谨防钓鱼链接或诈骗电话";break;case"/order/pay":this.title="订单支付",this.tip="请谨防钓鱼链接或诈骗电话";break;case"/order/alipay":this.title="订单支付",this.tip="请谨防钓鱼链接或诈骗电话";break;default:break}}}},Et=Pt,St=Object(b["a"])(Et,Nt,Ot,!1,null,"20e16d3c",null),Mt=St.exports,Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-confirm"},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"container"},[s("div",{staticClass:"order-box"},[s("div",{staticClass:"item-address"},[s("h2",{staticClass:"addr-title"},[t._v("收货地址")]),s("div",{staticClass:"addr-list clearfix"},[t._l(t.list,(function(e){return s("div",{key:e.id,staticClass:"addr-info",class:{checked:e.id===t.checkId},on:{click:function(s){t.checkId=e.id}}},[s("h2",[t._v(t._s(e.receiverName))]),s("div",{staticClass:"phone"},[t._v(t._s(e.receiverMobile))]),s("div",{staticClass:"street"},[t._v(" "+t._s(e.receiverProvince+" "+e.receiverCity+" "+e.receiverDistrict)+" "),s("br"),t._v(t._s(e.receiverAddress)+" ")]),s("div",{staticClass:"action"},[s("a",{staticClass:"fl",attrs:{href:"javascript:;"},on:{click:function(s){return t.delAddress(e)}}},[s("i",{staticClass:"icon el-icon-delete"})]),s("a",{staticClass:"fr",attrs:{href:"javascript:;"},on:{click:function(s){return t.editAddressModal(e)}}},[s("i",{staticClass:"icon el-icon-edit-outline"})])])])})),s("div",{staticClass:"addr-add",on:{click:t.openAddressModal}},[s("div",{staticClass:"icon-add"}),s("div",[t._v("添加新地址")])])],2)]),s("div",{staticClass:"item-good"},[s("h2",[t._v("商品")]),s("ul",t._l(t.cartList,(function(e){return s("li",{key:e.productId},[s("div",{staticClass:"good-name"},[s("img",{attrs:{src:e.productMainImage}}),s("span",[t._v(t._s(e.productName))])]),s("div",{staticClass:"good-price"},[t._v(t._s(e.productPrice)+"元x"+t._s(e.quantity))]),s("div",{staticClass:"good-total"},[t._v(t._s(e.productTotalPrice)+"元")])])})),0)]),t._m(0),t._m(1),s("div",{staticClass:"detail"},[s("div",{staticClass:"item"},[s("span",{staticClass:"item-name"},[t._v("商品件数：")]),s("span",{staticClass:"item-val"},[t._v(t._s(t.count)+"件")])]),s("div",{staticClass:"item"},[s("span",{staticClass:"item-name"},[t._v("商品总价：")]),s("span",{staticClass:"item-val"},[t._v(t._s(t.cartTotalPrice)+"元")])]),t._m(2),t._m(3),s("div",{staticClass:"item-total"},[s("span",{staticClass:"item-name"},[t._v("应付总额：")]),s("span",{staticClass:"item-val"},[t._v(t._s(t.cartTotalPrice)+"元")])])]),s("div",{staticClass:"btn-group"},[s("a",{staticClass:"btn btn-default btn-large",attrs:{href:"/#/cart"},on:{click:t.goCart}},[t._v("返回购物车")]),s("a",{staticClass:"btn btn-large",attrs:{href:"javascript:;"},on:{click:t.orderSubmit}},[t._v("去结算")])])])])]),s("modal",{attrs:{title:"删除确认",btnType:3,showModal:t.showDelModal},on:{cancel:function(e){t.showDelModal=!1},submit:t.submitAddress},scopedSlots:t._u([{key:"body",fn:function(){return[s("p",[t._v("您确认要删除此地址吗？")])]},proxy:!0}])}),s("modal",{attrs:{title:"确认新增",btnType:3,showModal:t.showEditModal},on:{cancel:function(e){t.showEditModal=!1},submit:t.submitAddress},scopedSlots:t._u([{key:"body",fn:function(){return[s("div",{staticClass:"edit-wrap"},[s("div",{staticClass:"item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverName,expression:"checkedItem.receiverName"}],staticClass:"input",attrs:{type:"text",placeholder:"姓名"},domProps:{value:t.checkedItem.receiverName},on:{input:function(e){e.target.composing||t.$set(t.checkedItem,"receiverName",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverMobile,expression:"checkedItem.receiverMobile"}],staticClass:"input",attrs:{type:"text",placeholder:"手机号"},domProps:{value:t.checkedItem.receiverMobile},on:{input:function(e){e.target.composing||t.$set(t.checkedItem,"receiverMobile",e.target.value)}}})]),s("div",{staticClass:"item"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverProvince,expression:"checkedItem.receiverProvince"}],attrs:{name:"province"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.checkedItem,"receiverProvince",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"北京"}},[t._v("北京")]),s("option",{attrs:{value:"天津"}},[t._v("天津")]),s("option",{attrs:{value:"河北"}},[t._v("河北")])]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverCity,expression:"checkedItem.receiverCity"}],attrs:{name:"city"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.checkedItem,"receiverCity",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"北京"}},[t._v("北京")]),s("option",{attrs:{value:"天津"}},[t._v("天津")]),s("option",{attrs:{value:"石家庄"}},[t._v("石家庄")])]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverDistrict,expression:"checkedItem.receiverDistrict"}],attrs:{name:"district"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.checkedItem,"receiverDistrict",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"昌平区"}},[t._v("昌平区")]),s("option",{attrs:{value:"海淀区"}},[t._v("海淀区")]),s("option",{attrs:{value:"东城区"}},[t._v("东城区")]),s("option",{attrs:{value:"西城区"}},[t._v("西城区")]),s("option",{attrs:{value:"顺义区"}},[t._v("顺义区")]),s("option",{attrs:{value:"房山区"}},[t._v("房山区")])])]),s("div",{staticClass:"item"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverAddress,expression:"checkedItem.receiverAddress"}],attrs:{name:"street"},domProps:{value:t.checkedItem.receiverAddress},on:{input:function(e){e.target.composing||t.$set(t.checkedItem,"receiverAddress",e.target.value)}}})]),s("div",{staticClass:"item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverZip,expression:"checkedItem.receiverZip"}],staticClass:"input",attrs:{type:"text",placeholder:"邮编"},domProps:{value:t.checkedItem.receiverZip},on:{input:function(e){e.target.composing||t.$set(t.checkedItem,"receiverZip",e.target.value)}}})])])]},proxy:!0}])})],1)},Lt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item-shipping"},[s("h2",[t._v("配送方式")]),s("span",[t._v("包邮")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item-invoice"},[s("h2",[t._v("发票")]),s("a",{attrs:{href:"javascript:;"}},[t._v("电子发票")]),s("a",{attrs:{href:"javascript:;"}},[t._v("个人")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item"},[s("span",{staticClass:"item-name"},[t._v("优惠活动：")]),s("span",{staticClass:"item-val"},[t._v("0元")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item"},[s("span",{staticClass:"item-name"},[t._v("运费：")]),s("span",{staticClass:"item-val"},[t._v("0元")])])}],At=(s("13d5"),{name:"order-confirm",data:function(){return{list:[],cartList:[],showEditModal:!1,cartTotalPrice:0,count:0,checkedItem:{},userAction:"",showDelModal:!1,checkId:""}},components:{Modal:F},mounted:function(){this.getAddressList(),this.getCartList()},methods:{getAddressList:function(){var t=this;this.axios.get("/shippings").then((function(e){t.list=e.list}))},delAddress:function(t){this.checkedItem=t,this.userAction=2,this.showDelModal=!0},editAddressModal:function(t){this.checkedItem=t,this.userAction=1,this.showEditModal=!0},openAddressModal:function(){this.checkedItem={},this.userAction=0,this.showEditModal=!0},submitAddress:function(){var t,e,s=this,a=this.checkedItem,i=this.userAction,r={};if(0===i||1===i){var n=a.receiverName,c=a.receiverMobile,o=a.receiverProvince,l=a.receiverCity,d=a.receiverDistrict,u=a.receiverAddress,v=a.receiverZip,p="";if(n?c&&/\d{11}/.test(c)?o?l?d&&u?v&&/\d{6}/.test(v)||(p="请输入6位邮编！"):p="请输入收货地址！":p="请选择对应的城市！":p="请选择对应的省份！":p="请输入正确格式的手机号码！":p="请输入收货人名称！",p)return void this.$message.error(p);r={receiverName:n,receiverMobile:c,receiverProvince:o,receiverCity:l,receiverDistrict:d,receiverAddress:u,receiverZip:v}}switch(i){case 0:t="post",e="/shippings";break;case 1:t="put",e="/shippings/".concat(a.id);break;case 2:t="delete",e="/shippings/".concat(a.id);break;default:break}this.axios[t](e,r).then((function(){s.closeModal(),s.getAddressList(),s.$message.success("操作成功！")}))},getCartList:function(){var t=this;this.axios.get("/carts").then((function(e){t.cartList=e.cartProductVoList.filter((function(t){return t.productSelected})),t.cartTotalPrice=e.cartTotalPrice,t.count=t.cartList.reduce((function(t,e){return t+e.quantity}),0)}))},closeModal:function(){this.checkedItem={},this.userAction="",this.showDelModal=!1,this.showEditModal=!1},goCart:function(){this.$router.push("/cart")},orderSubmit:function(){var t=this,e=this.list.some((function(e){return e.id===t.checkId}));e?this.axios.post("/orders",{shippingId:this.checkId}).then((function(e){t.$router.push({path:"/order/pay",query:{orderNo:e.orderNo}})})):this.$message.error("请选择一个收货地址！")}}}),Dt=At,zt=(s("1255"),Object(b["a"])(Dt,Tt,Lt,!1,null,null,null)),qt=zt.exports,Ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-list"},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"container"},[s("div",{staticClass:"order-box"},[t.loading?s("loading"):t._e(),t._l(t.list,(function(e,a){return s("div",{key:a,staticClass:"order"},[s("div",{staticClass:"order-title"},[s("div",{staticClass:"item-info fl"},[t._v(" "+t._s(e.createTime)+" "),s("span",[t._v("|")]),t._v(" "+t._s(e.receiverName)+" "),s("span",[t._v("|")]),t._v(" 订单号："+t._s(e.orderNo)+" "),s("span",[t._v("|")]),t._v(" "+t._s(e.paymentTypeDesc)+" ")]),s("div",{staticClass:"item-money fr"},[s("span",[t._v("应付金额：")]),s("span",{staticClass:"money"},[t._v(t._s(e.payment))]),s("span",[t._v("元")])])]),s("div",{staticClass:"order-content clearfix"},[s("div",{staticClass:"good-box fl"},t._l(e.orderItemVoList,(function(e,a){return s("div",{key:a,staticClass:"good-list"},[s("div",{staticClass:"good-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.productImage,expression:"item.productImage"}],attrs:{alt:""}})]),s("div",{staticClass:"good-name"},[s("div",{staticClass:"p-name"},[t._v(t._s(e.productName))]),s("div",{staticClass:"p-money"},[t._v(t._s(e.totalPrice+"X"+e.quantity)+"元")])])])})),0),20==e.status?s("div",{staticClass:"good-state fr"},[s("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e.statusDesc))])]):s("div",{staticClass:"good-state fr"},[s("a",{attrs:{href:"javascript:;"},on:{click:function(s){return t.goPay(e.orderNo)}}},[t._v(t._s(e.statusDesc))])])])])})),s("el-pagination",{staticClass:"pagination",attrs:{background:"",layout:"prev, pager, next",pageSize:t.pageSize,total:t.total},on:{"current-change":t.handleChange}}),t._e(),t._e(),t.loading||0!=t.list.length?t._e():s("no-data")],2)])])])},Bt=[],Gt=s("ade3"),Rt=(s("b0c0"),s("99af"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),Ht=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loading"},[s("img",{attrs:{src:"/imgs/loading-svg/loading-bars.svg"}})])}],Vt={name:"loading",data:function(){return{}}},Ft=Vt,Xt=(s("0cce"),Object(b["a"])(Ft,Rt,Ht,!1,null,"3cffee64",null)),Zt=Xt.exports,Jt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Qt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"no-data"},[s("img",{attrs:{src:"/imgs/icon-no-data.png"}}),s("p",[t._v("暂无记录")])])}],Kt={name:"no-data",data:function(){return{}}},Yt=Kt,Wt=(s("62ea"),Object(b["a"])(Yt,Jt,Qt,!1,null,"76e1433d",null)),te=Wt.exports,ee=s("487a"),se=s.n(ee),ae={name:"order-list",components:(a={Loading:Zt,NoData:te},Object(Gt["a"])(a,c.a.name,c.a),Object(Gt["a"])(a,r.a.name,r.a),a),directives:{infiniteScroll:se.a},data:function(){return{loading:!1,list:[],pageSize:10,pageNum:1,total:0,showNextPage:!0,busy:!1}},mounted:function(){this.getOrderList()},methods:{getOrderList:function(){var t=this;this.loading=!0,this.busy=!0,this.axios.get("/orders",{params:{pageSize:10,pageNum:this.pageNum}}).then((function(e){t.loading=!1,t.list=e.list,t.total=e.total,t.showNextPage=e.hasNextPage,t.busy=!1})).catch((function(){t.loading=!1}))},goPay:function(t){this.$router.push({path:"/order/pay",query:{orderNo:t}})},handleChange:function(t){this.pageNum=t,this.getOrderList()},loadMore:function(){this.pageNum++,this.getOrderList()},scrollMore:function(){var t=this;this.busy=!0,setTimeout((function(){t.pageNum++,t.getList()}),500)},getList:function(){var t=this;this.loading=!0,this.axios.get("/orders",{params:{pageSize:10,pageNum:this.pageNum}}).then((function(e){t.list=t.list.concat(e.list),t.loading=!1,e.hasNextPage?t.busy=!1:t.busy=!0}))}}},ie=ae,re=(s("778c"),Object(b["a"])(ie,Ut,Bt,!1,null,null,null)),ne=re.exports,ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-pay"},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"container"},[s("div",{staticClass:"order-wrap"},[s("div",{staticClass:"item-order"},[s("div",{staticClass:"icon-succ"}),s("div",{staticClass:"order-info"},[s("h2",[t._v("订单提交成功！去付款咯～")]),t._m(0),s("p",[t._v("收货信息："+t._s(t.addressInfo))])]),s("div",{staticClass:"order-total"},[s("p",[t._v("应付总额："),s("span",[t._v(t._s(t.payment))]),t._v("元")]),s("p",[t._v("订单详情 "),s("em",{staticClass:"icon-down",class:{up:!t.showDetail},on:{click:function(e){t.showDetail=!t.showDetail}}})])])]),t.showDetail?s("div",{staticClass:"item-detail"},[s("div",{staticClass:"item"},[s("div",{staticClass:"detail-title"},[t._v("订单号：")]),s("div",{staticClass:"detail-info theme-color"},[t._v(t._s(t.orderNo))])]),s("div",{staticClass:"item"},[s("div",{staticClass:"detail-title"},[t._v("收货信息：")]),s("div",{staticClass:"detail-info"},[t._v(t._s(t.addressInfo))])]),s("div",{staticClass:"item good"},[s("div",{staticClass:"detail-title"},[t._v("商品名称：")]),s("div",{staticClass:"detail-info"},[s("ul",t._l(t.orderDetail,(function(e,a){return s("li",{key:a},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.productImage,expression:"item.productImage"}]}),t._v(t._s(e.productName)+" ")])})),0)])]),t._m(1)]):t._e()]),s("div",{staticClass:"item-pay"},[s("h3",[t._v("选择以下支付方式付款")]),s("div",{staticClass:"pay-way"},[s("p",[t._v("支付平台")]),s("div",{staticClass:"pay pay-ali",class:{checked:1===t.payType},on:{click:function(e){return t.paySubmit(1)}}}),s("div",{staticClass:"pay pay-wechat",class:{checked:2===t.payType},on:{click:function(e){return t.paySubmit(2)}}})])])])]),t.showPay?s("scan-pay-code",{attrs:{img:t.payImg},on:{close:t.closePayModal}}):t._e(),s("modal",{attrs:{title:"支付确认",btnType:3,showModal:t.showPayModal,sureText:"查看订单",cancelText:"未支付"},on:{cancel:function(e){t.showPayModal=!1},submit:t.goOrderList},scopedSlots:t._u([{key:"body",fn:function(){return[s("p",[t._v("您确认是否完成支付？")])]},proxy:!0}])})],1)},oe=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("请在"),s("span",[t._v("30分")]),t._v("内完成支付, 超时后将取消订单")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item"},[s("div",{staticClass:"detail-title"},[t._v("发票信息：")]),s("div",{staticClass:"detail-info"},[t._v("电子发票 个人")])])}],le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"scan"},[s("div",{staticClass:"mask"}),s("div",{staticClass:"item-wrap"},[s("div",{staticClass:"img-scan"}),s("div",{staticClass:"img-pay"},[s("div",{staticClass:"title"},[t._v("微信支付"),s("em",{on:{click:t.close}})]),s("div",{staticClass:"qrcode"},[s("img",{attrs:{src:t.img}})]),t._m(0)])])])},de=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip"},[s("p",[t._v("请使用"),s("span",{staticClass:"theme-color"},[t._v("微信")]),t._v("扫一扫")]),s("p",[t._v("二维码完成支付")])])}],ue={name:"scan-pay-code",props:{img:String},methods:{close:function(){this.$emit("close")}}},ve=ue,pe=(s("757c"),Object(b["a"])(ve,le,de,!1,null,null,null)),me=pe.exports,fe=s("d055"),he=s.n(fe),_e={name:"order-pay",data:function(){return{orderNo:this.$route.query.orderNo,orderDetail:[],payment:"",addressInfo:"",showDetail:!1,showPay:!1,payType:"",payImg:"",showPayModal:!1,T:""}},components:{ScanPayCode:me,Modal:F},mounted:function(){this.getOrderDetail()},methods:{getOrderDetail:function(){var t=this;this.axios.get("/orders/".concat(this.orderNo)).then((function(e){t.orderDetail=e.orderItemVoList,t.payment=e.payment;var s=e.shippingVo,a=s.receiverName,i=s.receiverMobile,r=s.receiverProvince,n=s.receiverCity,c=s.receiverDistrict,o=s.receiverAddress,l=s.receiverZip;t.addressInfo="".concat(a," ").concat(i," ").concat(l," ").concat(r," ").concat(n," ").concat(c," ").concat(o)}))},paySubmit:function(t){var e=this;this.payType=t,1===t?window.open("/#/order/alipay?orderNo=".concat(this.orderNo)):this.axios.post("/pay",{orderId:this.orderNo,orderName:"niuniu",amount:.01,payType:2}).then((function(t){he.a.toDataURL(t.content).then((function(t){e.showPay=!0,e.payImg=t,e.loopOrderState()})).catch((function(){e.$message.err("微信支付二维码生成失败，请稍后重试")}))}))},closePayModal:function(){this.showPay=!1,this.showPayModal=!0,clearInterval(this.T)},loopOrderState:function(){var t=this;this.T=setInterval((function(){t.axios.get("/orders/".concat(t.orderNo)).then((function(e){20===e.status&&(clearInterval(t.T),t.goOrderList())}))}),1e3)},goOrderList:function(){this.$router.push("/order/list")}},destroyed:function(){clearInterval(this.T)}},ge=_e,Ce=(s("4a39"),Object(b["a"])(ge,ce,oe,!1,null,null,null)),be=Ce.exports,ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ali-pay"},[t.loading?s("loading"):t._e(),s("div",{staticClass:"form",domProps:{innerHTML:t._s(t.content)}})],1)},we=[],xe={name:"alipay",components:{Loading:Zt},data:function(){return{orderNo:this.$route.query.orderNo,content:"",loading:!0}},mounted:function(){this.paySubmit()},methods:{paySubmit:function(){var t=this;this.axios.post("/pay",{orderId:this.orderNo,orderName:"niuniu",amount:.01,payType:1}).then((function(e){t.content=e.content,setTimeout((function(){document.forms[0].submit()}),100)}))}}},ke=xe,je=Object(b["a"])(ke,ye,we,!1,null,"24b07d4f",null),$e=je.exports,Ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("div",{staticClass:"login-banner"},[s("router-link",{attrs:{to:"/index"}},[s("div",{staticClass:"login-logo"})])],1),s("div",{staticClass:"login-body"},[s("div",{staticClass:"container"},[s("div",{staticClass:"form-panel"},[t._m(0),s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"邮箱/手机号码/小米ID"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"btn-box"},[s("a",{staticClass:"btn",attrs:{href:"javacript:;"},on:{click:t.login}},[t._v(" 登录")])]),t._m(1),t._m(2)])])])])},Ne=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",[s("span",{staticClass:"checked"},[t._v("账号登录")]),s("span",{staticClass:"line"},[t._v("|")]),s("span",[t._v("扫码登录")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-tip"},[s("a",{attrs:{href:"javascript:;"}},[t._v("手机短信登录/注册")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register"},[s("span",{staticClass:"tips"},[t._v("立即注册")]),s("span",{staticClass:"spr-line"},[t._v("|")]),s("span",{staticClass:"tips"},[t._v("忘记密码?")])])}],Oe={name:"login",data:function(){return{username:"",password:"",userId:""}},methods:Object(h["a"])(Object(h["a"])({},Object(_["b"])(["saveUserName"])),{},{login:function(){var t=this,e=this.username,s=this.password;this.axios.post("/user/login",{username:e,password:s}).then((function(e){var s=e.id;t.userId=s,t.$cookie.set("userId",t.userId,{expires:"Session"}),t.saveUserName(e.username),t.$router.push({name:"index",params:{from:"login"}})}))},register:function(){this.axios.post("/user/register",{username:"niuniu",password:"niuniu",email:"123"}).then((function(t){console.log(t)}))}})},Pe=Oe,Ee=(s("c1f2"),Object(b["a"])(Pe,Ie,Ne,!1,null,"bfc2a284",null)),Se=Ee.exports;d["default"].use(u["a"]);var Me=[{path:"/",name:"home",component:S,redirect:"/index",children:[{path:"/index",name:"index",component:K},{path:"/product/:id",name:"product",component:lt},{path:"/detail/:id",name:"detail",component:ft}]},{path:"/cart",name:"cart",component:It},{path:"/order",name:"order",component:Mt,children:[{path:"list",name:"order-list",component:ne},{path:"confirm",name:"order-confirm",component:qt},{path:"pay",name:"order-pay",component:be},{path:"alipay",name:"alipay",component:$e}]},{path:"/login",name:"login",component:Se}],Te=new u["a"]({routes:Me}),Le=Te,Ae=s("bc3a"),De=s.n(Ae),ze=s("2106"),qe=s.n(ze),Ue=s("caf9"),Be=s("00e7"),Ge=s.n(Be),Re={saveUserName:function(t,e){t.username=e},saveCartCount:function(t,e){t.cartCount=e}},He={saveUserName:function(t,e){t.commit("saveUserName",e)},saveCartCount:function(t,e){t.commit("saveCartCount",e)}};d["default"].use(_["a"]);var Ve={username:"",cartCount:0},Fe=new _["a"].Store({state:Ve,mutations:Re,actions:He}),Xe=(s("0fae"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)}),Ze=[],Je={name:"App",data:function(){return{}},mounted:function(){this.$cookie.get("userId")&&(this.getUser(),this.getCartCount())},methods:Object(h["a"])(Object(h["a"])({},Object(_["b"])(["saveUserName","saveCartCount"])),{},{getUser:function(){var t=this;this.axios.get("/user").then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.saveUserName(e.username)}))},getCartCount:function(){var t=this;this.axios.get("/carts/products/sum").then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.saveCartCount(e)}))}})},Qe=Je,Ke=(s("5c0b"),Object(b["a"])(Qe,Xe,Ze,!1,null,null,null)),Ye=Ke.exports,We=!1;We&&s("fc6e"),De.a.defaults.baseURL="/api",De.a.defaults.timeout=8e3,De.a.interceptors.response.use((function(t){var e=t.data,s=location.hash;return 0===e.status?e.data:10===e.status?("#/index"!==s&&(window.location.href="/#/login"),Promise.reject(e)):(l.a.warning(e.msg),Promise.reject(e))}),(function(t){var e=t.response;return l.a.error(e.data.message),Promise.reject(t)})),d["default"].prototype.$message=l.a,d["default"].use(qe.a,De.a),d["default"].use(Ge.a),d["default"].use(c.a),d["default"].use(r.a),d["default"].use(se.a),d["default"].use(Ue["a"],{preLoad:1.3,loading:"/imgs/loading-svg/loading-bars.svg",attempt:1}),d["default"].config.productionTip=!1,new d["default"]({store:Fe,router:Le,render:function(t){return t(Ye)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";s("9c0c")},"62ea":function(t,e,s){"use strict";s("d6fa")},"74be":function(t,e,s){"use strict";s("4398")},"757c":function(t,e,s){"use strict";s("2441")},"778c":function(t,e,s){"use strict";s("1266")},"7dcb":function(t,e,s){},"7f77":function(t,e,s){"use strict";s("0261")},"9c0c":function(t,e,s){},a35f:function(t,e,s){},ab8d:function(t,e,s){},bc2b:function(t,e,s){},c1f2:function(t,e,s){"use strict";s("3863")},c327:function(t,e,s){"use strict";s("4153")},cf8b:function(t,e,s){"use strict";s("ab8d")},d4b7:function(t,e,s){"use strict";s("301f")},d6fa:function(t,e,s){},e00f:function(t,e,s){},f8df:function(t,e,s){"use strict";s("2eae")},fc6e:function(t,e,s){"use strict";s.r(e);var a=s("96eb"),i=s.n(a);i.a.mock("/api/user/login",{status:0,data:{"id|10001-11000":0,username:"@cname",email:"admin@51purse.com",phone:null,role:0,createTime:1479048325e3,updateTime:1479048325e3}})}});